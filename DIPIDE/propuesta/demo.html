<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DIPIDE - Sistema de Soluciones Informáticas Modulares</title>
    
    <!-- Material Design Components -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
      :root {
        --md-primary-color: #1565c0;
        --md-primary-variant: #0d47a1;
        --md-secondary-color: #388e3c;
        --md-surface-color: #ffffff;
        --md-background-color: #f5f5f5;
        --md-error-color: #d32f2f;
        --md-warning-color: #f57c00;
      }

      body {
        font-family: 'Roboto', sans-serif;
        margin: 0;
        background-color: var(--md-background-color);
        color: rgba(0,0,0,0.87);
      }

      .dipide-header {
        background: linear-gradient(135deg, var(--md-primary-color), var(--md-primary-variant));
        color: white;
        padding: 16px 24px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      }

      .dipide-logo {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .dipide-logo-icon {
        width: 48px;
        height: 48px;
        background: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: var(--md-primary-color);
        font-size: 18px;
      }

      .dipide-title h1 {
        margin: 0;
        font-size: 24px;
        font-weight: 500;
      }

      .dipide-subtitle {
        margin: 4px 0 0 0;
        opacity: 0.9;
        font-size: 14px;
        font-weight: 300;
      }

      .dipide-nav {
        background: white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        overflow-x: auto;
      }

      .dipide-nav-content {
        display: flex;
        padding: 0 24px;
        min-width: max-content;
      }

      .nav-tab {
        background: none;
        border: none;
        padding: 16px 24px;
        font-size: 14px;
        font-weight: 500;
        color: rgba(0,0,0,0.6);
        cursor: pointer;
        border-bottom: 3px solid transparent;
        transition: all 0.2s ease;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .nav-tab.active {
        color: var(--md-primary-color);
        border-bottom-color: var(--md-primary-color);
      }

      .nav-tab:hover {
        background: rgba(0,0,0,0.04);
        color: var(--md-primary-color);
      }

      .main-container {
        padding: 24px;
        max-width: 1200px;
        margin: 0 auto;
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      .mdc-card {
        margin-bottom: 24px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }

      .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 24px;
        margin-bottom: 32px;
      }

      .metric-card {
        background: white;
        border-radius: 8px;
        padding: 24px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        position: relative;
        overflow: hidden;
      }

      .metric-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 4px;
        height: 100%;
        background: var(--accent-color);
      }

      .metric-card.primary::before { background: var(--md-primary-color); }
      .metric-card.success::before { background: var(--md-secondary-color); }
      .metric-card.warning::before { background: var(--md-warning-color); }
      .metric-card.error::before { background: var(--md-error-color); }

      .metric-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 16px;
      }

      .metric-icon {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0.8;
      }

      .metric-card.primary .metric-icon { background: rgba(25, 118, 210, 0.1); color: var(--md-primary-color); }
      .metric-card.success .metric-icon { background: rgba(56, 142, 60, 0.1); color: var(--md-secondary-color); }
      .metric-card.warning .metric-icon { background: rgba(245, 124, 0, 0.1); color: var(--md-warning-color); }
      .metric-card.error .metric-icon { background: rgba(211, 47, 47, 0.1); color: var(--md-error-color); }

      .metric-value {
        font-size: 32px;
        font-weight: 500;
        margin: 8px 0;
        color: rgba(0,0,0,0.87);
      }

      .metric-label {
        font-size: 14px;
        color: rgba(0,0,0,0.6);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        font-weight: 500;
      }

      .metric-change {
        font-size: 12px;
        margin-top: 8px;
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .main-content {
        display: grid;
        grid-template-columns: 3fr 1fr;
        gap: 24px;
      }

      .inventory-table {
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        overflow-x: auto;
      }

      .inventory-table .data-table {
        margin: 0 16px;
        width: calc(100% - 32px);
      }

      .table-header {
        background: var(--md-primary-color);
        color: white;
        padding: 20px 24px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .table-title {
        font-size: 18px;
        font-weight: 500;
        margin: 0;
      }

      .filters {
        padding: 20px 24px;
        border-bottom: 1px solid rgba(0,0,0,0.12);
        display: flex;
        gap: 16px;
        align-items: flex-end;
        flex-wrap: nowrap;
      }

      .mdc-text-field {
        flex: 2;
        min-width: 250px;
      }

      .mdc-select {
        flex: 1;
        min-width: 180px;
      }

      .mdc-select__selected-text-container {
        display: flex;
        align-items: center;
        height: 56px;
      }

      .mdc-select__selected-text {
        padding-top: 0 !important;
        padding-bottom: 0 !important;
        line-height: 56px;
      }

      .filters .mdc-button {
        height: 56px;
        min-width: 120px;
        margin-top: 0;
      }

      @media (max-width: 768px) {
        .filters {
          flex-wrap: wrap;
        }
      }

      .data-table {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed;
      }

      .data-table th {
        background: rgba(0,0,0,0.04);
        padding: 12px 8px;
        text-align: left;
        font-weight: 500;
        color: rgba(0,0,0,0.87);
        font-size: 14px;
        border-bottom: 1px solid rgba(0,0,0,0.12);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .data-table td {
        padding: 12px 8px;
        border-bottom: 1px solid rgba(0,0,0,0.12);
        font-size: 14px;
        white-space: normal;
        word-wrap: break-word;
        line-height: 1.4;
        vertical-align: top;
      }

      /* Dashboard table columns */
      .dashboard-grid .data-table th:nth-child(1), 
      .dashboard-grid .data-table td:nth-child(1) { width: 12%; } /* Número */
      .dashboard-grid .data-table th:nth-child(2), 
      .dashboard-grid .data-table td:nth-child(2) { width: 11%; } /* Tipo */
      .dashboard-grid .data-table th:nth-child(3), 
      .dashboard-grid .data-table td:nth-child(3) { width: 22%; } /* Cliente/Descripción */
      .dashboard-grid .data-table th:nth-child(4), 
      .dashboard-grid .data-table td:nth-child(4) { width: 12%; } /* Fecha */
      .dashboard-grid .data-table th:nth-child(5), 
      .dashboard-grid .data-table td:nth-child(5) { width: 16%; } /* Unidad */
      .dashboard-grid .data-table th:nth-child(6), 
      .dashboard-grid .data-table td:nth-child(6) { width: 15%; } /* Estado */
      .dashboard-grid .data-table th:nth-child(7), 
      .dashboard-grid .data-table td:nth-child(7) { width: 12%; } /* Acción */
      
      /* Inventory table columns */
      #inventario-tab .data-table th:nth-child(1), 
      #inventario-tab .data-table td:nth-child(1) { width: 9%; } /* Código */
      #inventario-tab .data-table th:nth-child(2), 
      #inventario-tab .data-table td:nth-child(2) { width: 18%; } /* Insumo */
      #inventario-tab .data-table th:nth-child(3), 
      #inventario-tab .data-table td:nth-child(3) { width: 11%; } /* Categoría */
      #inventario-tab .data-table th:nth-child(4), 
      #inventario-tab .data-table td:nth-child(4) { width: 9%; } /* Ubicación */
      #inventario-tab .data-table th:nth-child(5), 
      #inventario-tab .data-table td:nth-child(5) { width: 9%; } /* Stock */
      #inventario-tab .data-table th:nth-child(6), 
      #inventario-tab .data-table td:nth-child(6) { width: 11%; } /* Valor Unit. */
      #inventario-tab .data-table th:nth-child(7), 
      #inventario-tab .data-table td:nth-child(7) { width: 9%; } /* Estado */
      #inventario-tab .data-table th:nth-child(8), 
      #inventario-tab .data-table td:nth-child(8) { width: 24%; } /* Acciones */

      .data-table tbody tr:hover {
        background: rgba(0,0,0,0.04);
      }

      .status-chip {
        padding: 6px 12px;
        border-radius: 16px;
        font-size: 12px;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .status-optimal { background: rgba(76, 175, 80, 0.1); color: #4caf50; }
      .status-low { background: rgba(255, 193, 7, 0.1); color: #ffc107; }
      .status-critical { background: rgba(244, 67, 54, 0.1); color: #f44336; }

      .sidebar {
        display: flex;
        flex-direction: column;
        gap: 24px;
      }

      .sidebar-card {
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }

      .sidebar-header {
        background: var(--md-primary-color);
        color: white;
        padding: 16px 20px;
        font-weight: 500;
      }

      .sidebar-content {
        padding: 20px;
      }

      .order-item {
        padding: 16px 0;
        border-bottom: 1px solid rgba(0,0,0,0.12);
        position: relative;
        padding-left: 20px;
      }

      .order-item::before {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 4px;
        height: 32px;
        border-radius: 2px;
      }

      .order-item.processing::before { background: var(--md-warning-color); }
      .order-item.shipping::before { background: var(--md-primary-color); }
      .order-item.delivered::before { background: var(--md-secondary-color); }

      .order-item:last-child {
        border-bottom: none;
      }

      .order-number {
        font-weight: 500;
        margin-bottom: 4px;
      }

      .order-details {
        font-size: 12px;
        color: rgba(0,0,0,0.6);
        margin-bottom: 8px;
      }

      .activity-item {
        display: flex;
        gap: 12px;
        padding: 12px 0;
        border-bottom: 1px solid rgba(0,0,0,0.08);
      }

      .activity-item:last-child {
        border-bottom: none;
      }

      .activity-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }

      .activity-icon.info { background: rgba(33, 150, 243, 0.1); color: #2196f3; }
      .activity-icon.warning { background: rgba(255, 152, 0, 0.1); color: #ff9800; }
      .activity-icon.success { background: rgba(76, 175, 80, 0.1); color: #4caf50; }

      .activity-content {
        flex: 1;
      }

      .activity-title {
        font-weight: 500;
        margin-bottom: 4px;
        font-size: 14px;
      }

      .activity-description {
        font-size: 12px;
        color: rgba(0,0,0,0.6);
        margin-bottom: 4px;
      }

      .activity-time {
        font-size: 11px;
        color: rgba(0,0,0,0.4);
      }

      .quick-actions {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .mdc-button {
        justify-content: flex-start;
        text-transform: none;
        font-weight: 500;
      }

      .pagination {
        padding: 20px 24px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 16px;
        border-top: 1px solid rgba(0,0,0,0.12);
      }

      .pagination-info {
        font-size: 14px;
        color: rgba(0,0,0,0.6);
        text-align: center;
      }

      .pagination-controls {
        display: flex;
        gap: 4px;
        align-items: center;
      }

      .pagination-controls .mdc-button {
        min-width: 20px;
        height: 36px;
        padding: 0 8px;
      }

      .pagination-controls .mdc-button--raised {
        min-width: 36px;
        padding: 0 12px;
      }
      
      .pagination-controls .page-numbers {
        display: flex;
        gap: 4px;
        align-items: center;
        justify-content: center;
      }

      /* Modal Styles */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 1000;
      }

      .modal-content {
        background: white;
        border-radius: 8px;
        max-width: 800px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 8px 32px rgba(0,0,0,0.3);
      }

      .modal-header {
        background: var(--md-primary-color);
        color: white;
        padding: 20px 24px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .modal-body {
        padding: 24px;
      }

      .movement-entry {
        background: rgba(0,0,0,0.02);
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 16px;
        border-left: 4px solid var(--md-primary-color);
      }

      .movement-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 12px;
      }

      .movement-type {
        font-weight: 500;
        color: var(--md-primary-color);
      }

      .movement-date {
        font-size: 12px;
        color: rgba(0,0,0,0.6);
      }

      .movement-details {
        background: rgba(0,0,0,0.02);
        border-radius: 6px;
        padding: 16px;
        margin-top: 12px;
        border: 1px solid rgba(0,0,0,0.08);
      }

      .detail-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        padding: 8px 0;
        border-bottom: 1px solid rgba(0,0,0,0.06);
      }

      .detail-item:last-child {
        border-bottom: none;
        padding-bottom: 0;
      }

      .detail-item:first-child {
        padding-top: 0;
      }

      .detail-label {
        color: rgba(0,0,0,0.7);
        font-weight: 500;
        min-width: 120px;
      }

      .detail-value {
        font-weight: 500;
        color: rgba(0,0,0,0.87);
        text-align: right;
      }

      .movement-motivo {
        background: rgba(0,0,0,0.03);
        border-radius: 6px;
        padding: 12px;
        margin-top: 16px;
        border-left: 3px solid var(--md-primary-color);
      }

      .movement-motivo .motivo-label {
        font-weight: 600;
        color: var(--md-primary-color);
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 6px;
      }

      .movement-motivo .motivo-text {
        font-size: 14px;
        color: rgba(0,0,0,0.8);
        line-height: 1.4;
      }

      @media (max-width: 768px) {
        .main-content {
          grid-template-columns: 1fr;
        }
        
        .metrics-grid {
          grid-template-columns: 1fr;
        }
        
        .filters {
          flex-direction: column;
        }
        
        .dipide-nav-content {
          padding: 0 16px;
        }
        
        .nav-tab {
          padding: 16px 12px;
          font-size: 12px;
        }
        
        .data-table {
          font-size: 12px;
        }
        
        .data-table th,
        .data-table td {
          padding: 8px;
        }
        
        .inventory-table {
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
        }
        
        .table-header {
          flex-direction: column;
          gap: 12px;
          align-items: flex-start;
        }
        
        .table-header button {
          width: 100%;
        }
      }
      
      @media (max-width: 480px) {
        .data-table {
          min-width: 700px;
        }
        
        .main-container {
          padding: 16px;
        }
        
        .metric-card {
          padding: 16px;
        }
        
        .filters {
          gap: 12px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="dipide-header">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <div class="dipide-logo">
          <div class="dipide-logo-icon">DIP</div>
          <div class="dipide-title">
            <h1>DIPIDE - Sistema Modular</h1>
            <p class="dipide-subtitle">Gestión de Expedientes, Órdenes e Inventario</p>
          </div>
        </div>
        <div style="display: flex; align-items: center; gap: 24px; color: white;">
          <span style="font-size: 14px;">Usuario: Admin Sistema</span>
          <span style="font-size: 14px;">Unidad: Almacén Central</span>
          <span style="font-size: 14px;">DIPIDE La Plata</span>
          <button class="mdc-button mdc-button--outlined" style="color: white; border-color: white;">
            <span class="material-icons mdc-button__icon">logout</span>
            <span class="mdc-button__label">Salir</span>
          </button>
        </div>
      </div>
    </header>

    <!-- Navigation -->
    <nav class="dipide-nav">
      <div class="dipide-nav-content">
        <button class="nav-tab active">Dashboard</button>
        <button class="nav-tab">Expedientes</button>
        <button class="nav-tab">Órdenes de Trabajo</button>
        <button class="nav-tab">Inventario</button>
        <button class="nav-tab">Movimientos</button>
        <button class="nav-tab">Import/Export</button>
        <button class="nav-tab">Reportes</button>
        <button class="nav-tab">Administración</button>
      </div>
    </nav>

    <div class="main-container">
      
      <!-- Dashboard Tab -->
      <div id="dashboard-tab" class="tab-content active">
        <!-- Métricas KPI -->
        <div class="metrics-grid">
          <div class="metric-card primary">
            <div class="metric-header">
              <div>
                <div class="metric-label">Expedientes Activos</div>
                <div class="metric-value">147</div>
                <div class="metric-change" style="color: #4caf50;">
                  <span class="material-icons" style="font-size: 16px;">trending_up</span>
                  +8 nuevos esta semana
                </div>
              </div>
              <div class="metric-icon">
                <span class="material-icons">folder</span>
              </div>
            </div>
          </div>

          <div class="metric-card success">
            <div class="metric-header">
              <div>
                <div class="metric-label">Órdenes en Proceso</div>
                <div class="metric-value">23</div>
                <div class="metric-change" style="color: rgba(0,0,0,0.6);">
                  12 provisorias, 11 confirmadas
                </div>
              </div>
              <div class="metric-icon">
                <span class="material-icons">assignment</span>
              </div>
            </div>
          </div>

          <div class="metric-card warning">
            <div class="metric-header">
              <div>
                <div class="metric-label">Alertas Stock</div>
                <div class="metric-value">31</div>
                <div class="metric-change" style="color: #ff9800;">
                  23 bajos, 8 críticos
                </div>
              </div>
              <div class="metric-icon">
                <span class="material-icons">warning</span>
              </div>
            </div>
          </div>

          <div class="metric-card error">
            <div class="metric-header">
              <div>
                <div class="metric-label">Movimientos Hoy</div>
                <div class="metric-value">67</div>
                <div class="metric-change" style="color: rgba(0,0,0,0.6);">
                  45 entradas, 22 salidas
                </div>
              </div>
              <div class="metric-icon">
                <span class="material-icons">swap_horiz</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Contenido Principal -->
        <div class="main-content">
        <!-- Tabla de Inventario -->
        <div class="inventory-table">
          <div class="table-header">
            <h2 class="table-title">Expedientes y Órdenes Recientes</h2>
            <button class="mdc-button mdc-button--outlined" style="color: white; border-color: white;">
              <span class="material-icons mdc-button__icon">refresh</span>
              <span class="mdc-button__label">Actualizar</span>
            </button>
          </div>

          <div class="filters">
            <div class="mdc-text-field mdc-text-field--outlined">
              <input type="text" class="mdc-text-field__input" placeholder="Buscar por número o cliente...">
              <div class="mdc-notched-outline">
                <div class="mdc-notched-outline__leading"></div>
                <div class="mdc-notched-outline__notch">
                  <label class="mdc-floating-label">Buscar expediente/orden</label>
                </div>
                <div class="mdc-notched-outline__trailing"></div>
              </div>
            </div>
            
            <div class="mdc-select mdc-select--outlined">
              <div class="mdc-select__anchor">
                <span class="mdc-notched-outline">
                  <span class="mdc-notched-outline__leading"></span>
                  <span class="mdc-notched-outline__notch">
                    <span class="mdc-floating-label">Estado</span>
                  </span>
                  <span class="mdc-notched-outline__trailing"></span>
                </span>
                <span class="mdc-select__selected-text-container">
                  <span class="mdc-select__selected-text">Todos los estados</span>
                </span>
                <span class="mdc-select__dropdown-icon">
                  <span class="material-icons">arrow_drop_down</span>
                </span>
              </div>
              <div class="mdc-select__menu mdc-menu mdc-menu-surface">
                <ul class="mdc-list" role="listbox">
                  <li class="mdc-list-item" data-value="iniciado" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">Todos los estados</span>
                  </li>
                  <li class="mdc-list-item" data-value="iniciado" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">Iniciado</span>
                  </li>
                  <li class="mdc-list-item" data-value="proceso" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">En Proceso</span>
                  </li>
                  <li class="mdc-list-item" data-value="completado" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">Completado</span>
                  </li>
                  <li class="mdc-list-item" data-value="incidencia" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">Incidencia</span>
                  </li>
                </ul>
              </div>
            </div>

            <button class="mdc-button mdc-button--raised">
              <span class="material-icons mdc-button__icon">search</span>
              <span class="mdc-button__label">Buscar</span>
            </button>
          </div>

          <table class="data-table">
            <thead>
              <tr>
                <th>Número</th>
                <th>Tipo</th>
                <th>Cliente/Descripción</th>
                <th style="text-align: center;">Fecha Inicio</th>
                <th style="text-align: center;">Unidad Responsable</th>
                <th style="text-align: center;">Estado</th>
                <th style="text-align: center;">Acción</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>EXP-2024-1205</code></td>
                <td>Expediente</td>
                <td>Editorial Planeta - Catálogo Corporativo</td>
                <td style="text-align: center; font-weight: 500;">10/08/2024</td>
                <td style="text-align: center;">Producción</td>
                <td style="text-align: center;">
                  <span class="status-chip status-low">TRAMO 04</span>
                </td>
                <td style="text-align: center;">
                  <button class="mdc-button mdc-button--outlined expediente-detalle-btn" data-id="EXP-2024-1205">
                    <span class="mdc-button__label">Detalle</span>
                  </button>
                </td>
              </tr>
              <tr>
                <td><code>OT-2024-1205</code></td>
                <td>Orden de Trabajo</td>
                <td>Impresión Catálogo 48 páginas</td>
                <td style="text-align: center; font-weight: 500;">10/08/2024</td>
                <td style="text-align: center;">Producción</td>
                <td style="text-align: center;">
                  <span class="status-chip status-low">EN PROCESO</span>
                </td>
                <td style="text-align: center;">
                  <button class="mdc-button mdc-button--outlined orden-detalle-btn" data-orden="OT-2024-1205">
                    <span class="mdc-button__label">Detalle</span>
                  </button>
                </td>
              </tr>
              <tr>
                <td><code>EXP-2024-1204</code></td>
                <td>Expediente</td>
                <td>Banco Nación - Formularios Oficiales</td>
                <td style="text-align: center; font-weight: 500;">08/08/2024</td>
                <td style="text-align: center;">Comercialización</td>
                <td style="text-align: center;">
                  <span class="status-chip status-optimal">TRAMO 06</span>
                </td>
                <td style="text-align: center;">
                  <button class="mdc-button mdc-button--outlined expediente-detalle-btn" data-id="EXP-2024-1204">
                    <span class="mdc-button__label">Detalle</span>
                  </button>
                </td>
              </tr>
              <tr>
                <td><code>OT-2024-1204</code></td>
                <td>Orden de Trabajo</td>
                <td>Impresión Formularios A4</td>
                <td style="text-align: center; font-weight: 500;">08/08/2024</td>
                <td style="text-align: center;">Producción</td>
                <td style="text-align: center;">
                  <span class="status-chip status-optimal">COMPLETO</span>
                </td>
                <td style="text-align: center;">
                  <button class="mdc-button mdc-button--outlined orden-detalle-btn" data-orden="OT-2024-1204">
                    <span class="mdc-button__label">Detalle</span>
                  </button>
                </td>
              </tr>
              <tr>
                <td><code>EXP-2024-1203</code></td>
                <td>Expediente</td>
                <td title="Ministerio Educación - Manual Escolar">Min. Educación - Manual</td>
                <td style="text-align: center; font-weight: 500;">05/08/2024</td>
                <td style="text-align: center;">Almacén</td>
                <td style="text-align: center;">
                  <span class="status-chip status-optimal">TRAMO 06</span>
                </td>
                <td style="text-align: center;">
                  <button class="mdc-button mdc-button--outlined expediente-detalle-btn" data-id="EXP-2024-1203">
                    <span class="mdc-button__label">Detalle</span>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>

          <div class="pagination">
            <div class="pagination-info">Mostrando 1-5 de 1.847 registros</div>
            <div class="pagination-controls">
              <button class="mdc-button mdc-button--outlined">Anterior</button>
              <div class="page-numbers">
                <button class="mdc-button mdc-button--raised">1</button>
                <button class="mdc-button mdc-button--outlined">2</button>
                <button class="mdc-button mdc-button--outlined">3</button>
                <button class="mdc-button mdc-button--outlined">4</button>
                <button class="mdc-button mdc-button--outlined">5</button>
                <span style="margin: 0 8px; color: rgba(0,0,0,0.4);">...</span>
                <button class="mdc-button mdc-button--outlined">37</button>
              </div>
              <button class="mdc-button mdc-button--outlined">Siguiente</button>
            </div>
          </div>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
          <!-- Órdenes de Trabajo -->
          <div class="sidebar-card">
            <div class="sidebar-header">
              <span class="material-icons" style="vertical-align: middle; margin-right: 8px;">work</span>
              Órdenes de Trabajo Activas
            </div>
            <div class="sidebar-content">
              <div class="order-item processing">
                <div class="order-number">OT-2024-1205</div>
                <div class="order-details">Cliente: Editorial Planeta<br>Producto: Catálogo 48 pág.</div>
                <span class="status-chip status-low">EN PROCESO</span>
              </div>
              <div class="order-item shipping">
                <div class="order-number">OT-2024-1204</div>
                <div class="order-details">Cliente: Banco Nación<br>Producto: Formularios varios</div>
                <span class="status-chip status-optimal">IMPRESIÓN</span>
              </div>
              <div class="order-item delivered">
                <div class="order-number">OT-2024-1203</div>
                <div class="order-details">Cliente: Ministerio Educación<br>Producto: Manual escolar</div>
                <span class="status-chip status-optimal">TERMINADO</span>
              </div>
            </div>
          </div>

          <!-- Actividad Reciente -->
          <div class="sidebar-card">
            <div class="sidebar-header">
              <span class="material-icons" style="vertical-align: middle; margin-right: 8px;">history</span>
              Actividad del Sistema
            </div>
            <div class="sidebar-content">
              <div class="activity-item">
                <div class="activity-icon info">
                  <span class="material-icons" style="font-size: 20px;">add_circle</span>
                </div>
                <div class="activity-content">
                  <div class="activity-title">Entrada de stock</div>
                  <div class="activity-description">25 kg Tinta Cyan - Usuario: J.Martinez</div>
                  <div class="activity-time">Hace 20 minutos</div>
                </div>
              </div>
              <div class="activity-item">
                <div class="activity-icon warning">
                  <span class="material-icons" style="font-size: 20px;">warning</span>
                </div>
                <div class="activity-content">
                  <div class="activity-title">Alerta stock crítico</div>
                  <div class="activity-description">Planchas Offset bajo mínimo - Usuario: Sistema</div>
                  <div class="activity-time">Hace 1 hora</div>
                </div>
              </div>
              <div class="activity-item">
                <div class="activity-icon success">
                  <span class="material-icons" style="font-size: 20px;">check_circle</span>
                </div>
                <div class="activity-content">
                  <div class="activity-title">Orden completada</div>
                  <div class="activity-description">OT-2024-1203 finalizada - Usuario: C.Rodriguez</div>
                  <div class="activity-time">Hace 2 horas</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Acciones Rápidas -->
          <div class="sidebar-card">
            <div class="sidebar-header">
              <span class="material-icons" style="vertical-align: middle; margin-right: 8px;">flash_on</span>
              Acciones Rápidas
            </div>
            <div class="sidebar-content">
              <div class="quick-actions">
                <button class="mdc-button mdc-button--raised">
                  <span class="material-icons mdc-button__icon">add</span>
                  <span class="mdc-button__label">Nueva Entrada Stock</span>
                </button>
                <button class="mdc-button mdc-button--outlined">
                  <span class="material-icons mdc-button__icon">shopping_cart</span>
                  <span class="mdc-button__label">Crear Orden Compra</span>
                </button>
                <button class="mdc-button mdc-button--outlined">
                  <span class="material-icons mdc-button__icon">assignment</span>
                  <span class="mdc-button__label">Reporte Mensual</span>
                </button>
                <button class="mdc-button mdc-button--outlined">
                  <span class="material-icons mdc-button__icon">fact_check</span>
                  <span class="mdc-button__label">Auditoría Inventario</span>
                </button>
              </div>
            </div>
          </div>
        </div>
        </div>
      </div>
      
      <!-- Expedientes Tab -->
      <div id="expedientes-tab" class="tab-content">
        <div class="inventory-table">
          <div class="table-header">
            <h2 class="table-title">Gestión de Expedientes</h2>
            <button class="mdc-button mdc-button--outlined" style="color: white; border-color: white;">
              <span class="material-icons mdc-button__icon">add</span>
              <span class="mdc-button__label">Nuevo Expediente</span>
            </button>
          </div>
          <div class="filters">
            <div class="mdc-text-field mdc-text-field--outlined">
              <input type="text" class="mdc-text-field__input" placeholder="Buscar por número o cliente...">
              <div class="mdc-notched-outline">
                <div class="mdc-notched-outline__leading"></div>
                <div class="mdc-notched-outline__notch">
                  <label class="mdc-floating-label">Buscar expediente</label>
                </div>
                <div class="mdc-notched-outline__trailing"></div>
              </div>
            </div>
            <div class="mdc-select mdc-select--outlined">
              <div class="mdc-select__anchor">
                <span class="mdc-notched-outline">
                  <span class="mdc-notched-outline__leading"></span>
                  <span class="mdc-notched-outline__notch">
                    <span class="mdc-floating-label">Tramo</span>
                  </span>
                  <span class="mdc-notched-outline__trailing"></span>
                </span>
                <span class="mdc-select__selected-text-container">
                  <span class="mdc-select__selected-text">Todos los tramos</span>
                </span>
                <span class="mdc-select__dropdown-icon">
                  <span class="material-icons">arrow_drop_down</span>
                </span>
              </div>
              <div class="mdc-select__menu mdc-menu mdc-menu-surface">
                <ul class="mdc-list" role="listbox">
                  <li class="mdc-list-item" data-value="tramo01" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">Todos los tramos</span>
                  </li>
                  <li class="mdc-list-item" data-value="tramo01" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">TRAMO 01 - Inicio</span>
                  </li>
                  <li class="mdc-list-item" data-value="tramo02" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">TRAMO 02 - Prerequisitos</span>
                  </li>
                  <li class="mdc-list-item" data-value="tramo03" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">TRAMO 03 - Programación</span>
                  </li>
                  <li class="mdc-list-item" data-value="tramo04" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">TRAMO 04 - Gestión</span>
                  </li>
                  <li class="mdc-list-item" data-value="tramo05" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">TRAMO 05 - Control</span>
                  </li>
                  <li class="mdc-list-item" data-value="tramo06" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">TRAMO 06 - Finalización</span>
                  </li>
                </ul>
              </div>
            </div>
            <button class="mdc-button mdc-button--raised">
              <span class="material-icons mdc-button__icon">search</span>
              <span class="mdc-button__label">Buscar</span>
            </button>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>Número Expediente</th>
                <th>Cliente</th>
                <th>Producto/Servicio</th>
                <th style="text-align: center;">Fecha Inicio</th>
                <th style="text-align: center;">Tramo Actual</th>
                <th style="text-align: center;">Unidad Responsable</th>
                <th style="text-align: center;">Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>EXP-2024-1205</code></td>
                <td>Editorial Planeta</td>
                <td>Catálogo Corporativo 48 páginas</td>
                <td style="text-align: center; font-weight: 500;">10/08/2024</td>
                <td style="text-align: center;">
                  <span class="status-chip status-low">TRAMO 04</span>
                </td>
                <td style="text-align: center;">Producción</td>
                <td style="text-align: center;">
                  <button class="mdc-button mdc-button--outlined expediente-detalle-btn" data-id="EXP-2024-1205">
                    <span class="mdc-button__label">Detalle</span>
                  </button>
                </td>
              </tr>
              <tr>
                <td><code>EXP-2024-1204</code></td>
                <td>Banco Nación</td>
                <td>Formularios Oficiales A4</td>
                <td style="text-align: center; font-weight: 500;">08/08/2024</td>
                <td style="text-align: center;">
                  <span class="status-chip status-optimal">TRAMO 06</span>
                </td>
                <td style="text-align: center;">Comercialización</td>
                <td style="text-align: center;">
                  <button class="mdc-button mdc-button--outlined expediente-detalle-btn" data-id="EXP-2024-1204">
                    <span class="mdc-button__label">Detalle</span>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- Import/Export Tab -->
      <div id="import-export-tab" class="tab-content">
        <div style="padding: 24px;">
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
            <!-- Importación de Datos -->
            <div class="inventory-table" style="margin-bottom: 0;">
              <div class="table-header">
                <h2 class="table-title">Importación de Datos</h2>
                <span class="material-icons" style="color: white;">upload</span>
              </div>
              <div style="padding: 24px;">
                <h4 style="margin: 0 0 16px 0; color: var(--md-primary-color);">Importar desde CSV/Excel</h4>
                <p style="color: rgba(0,0,0,0.6); margin-bottom: 24px; font-size: 14px;">Sube archivos CSV o Excel para importación masiva de datos. El sistema validará la estructura antes de procesar.</p>
                
                <div style="display: flex; flex-direction: column; gap: 16px;">
                  <div class="mdc-select mdc-select--outlined" style="width: 100%;">
                    <div class="mdc-select__anchor">
                      <span class="mdc-notched-outline">
                        <span class="mdc-notched-outline__leading"></span>
                        <span class="mdc-notched-outline__notch">
                          <span class="mdc-floating-label">Tipo de Datos</span>
                        </span>
                        <span class="mdc-notched-outline__trailing"></span>
                      </span>
                      <span class="mdc-select__selected-text-container">
                        <span class="mdc-select__selected-text">Insumos y Materiales</span>
                      </span>
                      <span class="mdc-select__dropdown-icon">
                        <span class="material-icons">arrow_drop_down</span>
                      </span>
                    </div>
                    <div class="mdc-select__menu mdc-menu mdc-menu-surface">
                      <ul class="mdc-list" role="listbox">
                        <li class="mdc-list-item mdc-list-item--selected" data-value="insumos" role="option">
                          <span class="mdc-list-item__ripple"></span>
                          <span class="mdc-list-item__text">Insumos y Materiales</span>
                        </li>
                        <li class="mdc-list-item" data-value="proveedores" role="option">
                          <span class="mdc-list-item__ripple"></span>
                          <span class="mdc-list-item__text">Proveedores</span>
                        </li>
                        <li class="mdc-list-item" data-value="usuarios" role="option">
                          <span class="mdc-list-item__ripple"></span>
                          <span class="mdc-list-item__text">Usuarios y Roles</span>
                        </li>
                        <li class="mdc-list-item" data-value="clientes" role="option">
                          <span class="mdc-list-item__ripple"></span>
                          <span class="mdc-list-item__text">Clientes</span>
                        </li>
                      </ul>
                    </div>
                  </div>
                  
                  <div style="border: 2px dashed #ccc; border-radius: 8px; padding: 32px; text-align: center; background: rgba(0,0,0,0.02);">
                    <span class="material-icons" style="font-size: 48px; color: #ccc; margin-bottom: 16px;">cloud_upload</span>
                    <p style="margin: 0; color: rgba(0,0,0,0.6);">Arrastra el archivo aquí o <a href="#" style="color: var(--md-primary-color); text-decoration: none;">haz clic para seleccionar</a></p>
                    <p style="margin: 8px 0 0 0; font-size: 12px; color: rgba(0,0,0,0.4);">Formatos soportados: CSV, XLSX (máx. 10MB)</p>
                  </div>
                  
                  <div style="display: flex; gap: 12px; align-items: center;">
                    <label style="display: flex; align-items: center; gap: 8px; font-size: 14px; cursor: pointer;">
                      <input type="checkbox" style="margin: 0;">
                      <span>Usar delimitador TAB (recomendado)</span>
                    </label>
                  </div>
                  
                  <button class="mdc-button mdc-button--raised" style="align-self: flex-start;">
                    <span class="material-icons mdc-button__icon">upload_file</span>
                    <span class="mdc-button__label">Procesar Importación</span>
                  </button>
                </div>
              </div>
            </div>
            
            <!-- Exportación de Datos -->
            <div class="inventory-table" style="margin-bottom: 0;">
              <div class="table-header">
                <h2 class="table-title">Exportación de Datos</h2>
                <span class="material-icons" style="color: white;">download</span>
              </div>
              <div style="padding: 24px;">
                <h4 style="margin: 0 0 16px 0; color: var(--md-primary-color);">Exportar a CSV/Excel</h4>
                <p style="color: rgba(0,0,0,0.6); margin-bottom: 24px; font-size: 14px;">Descarga datos completos o filtrados para backup o análisis externo.</p>
                
                <div style="display: flex; flex-direction: column; gap: 16px;">
                  <div class="mdc-select mdc-select--outlined" style="width: 100%;">
                    <div class="mdc-select__anchor">
                      <span class="mdc-notched-outline">
                        <span class="mdc-notched-outline__leading"></span>
                        <span class="mdc-notched-outline__notch">
                          <span class="mdc-floating-label">Tabla a Exportar</span>
                        </span>
                        <span class="mdc-notched-outline__trailing"></span>
                      </span>
                      <span class="mdc-select__selected-text-container">
                        <span class="mdc-select__selected-text">Expedientes</span>
                      </span>
                      <span class="mdc-select__dropdown-icon">
                        <span class="material-icons">arrow_drop_down</span>
                      </span>
                    </div>
                    <div class="mdc-select__menu mdc-menu mdc-menu-surface">
                      <ul class="mdc-list" role="listbox">
                        <li class="mdc-list-item mdc-list-item--selected" data-value="expedientes" role="option">
                          <span class="mdc-list-item__ripple"></span>
                          <span class="mdc-list-item__text">Expedientes</span>
                        </li>
                        <li class="mdc-list-item" data-value="ordenes" role="option">
                          <span class="mdc-list-item__ripple"></span>
                          <span class="mdc-list-item__text">Órdenes de Trabajo</span>
                        </li>
                        <li class="mdc-list-item" data-value="inventario" role="option">
                          <span class="mdc-list-item__ripple"></span>
                          <span class="mdc-list-item__text">Inventario Completo</span>
                        </li>
                        <li class="mdc-list-item" data-value="movimientos" role="option">
                          <span class="mdc-list-item__ripple"></span>
                          <span class="mdc-list-item__text">Movimientos</span>
                        </li>
                        <li class="mdc-list-item" data-value="proveedores" role="option">
                          <span class="mdc-list-item__ripple"></span>
                          <span class="mdc-list-item__text">Proveedores</span>
                        </li>
                      </ul>
                    </div>
                  </div>
                  
                  <div style="display: flex; gap: 12px;">
                    <div class="mdc-text-field mdc-text-field--outlined" style="flex: 1;">
                      <input type="date" class="mdc-text-field__input">
                      <div class="mdc-notched-outline">
                        <div class="mdc-notched-outline__leading"></div>
                        <div class="mdc-notched-outline__notch">
                          <label class="mdc-floating-label">Desde</label>
                        </div>
                        <div class="mdc-notched-outline__trailing"></div>
                      </div>
                    </div>
                    <div class="mdc-text-field mdc-text-field--outlined" style="flex: 1;">
                      <input type="date" class="mdc-text-field__input">
                      <div class="mdc-notched-outline">
                        <div class="mdc-notched-outline__leading"></div>
                        <div class="mdc-notched-outline__notch">
                          <label class="mdc-floating-label">Hasta</label>
                        </div>
                        <div class="mdc-notched-outline__trailing"></div>
                      </div>
                    </div>
                  </div>
                  
                  <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                    <button class="mdc-button mdc-button--raised">
                      <span class="material-icons mdc-button__icon">table_view</span>
                      <span class="mdc-button__label">Exportar CSV</span>
                    </button>
                    <button class="mdc-button mdc-button--outlined">
                      <span class="material-icons mdc-button__icon">description</span>
                      <span class="mdc-button__label">Exportar Excel</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Historial de Operaciones -->
          <div class="inventory-table">
            <div class="table-header">
              <h2 class="table-title">Historial de Import/Export</h2>
              <button class="mdc-button mdc-button--outlined" style="color: white; border-color: white;">
                <span class="material-icons mdc-button__icon">refresh</span>
                <span class="mdc-button__label">Actualizar</span>
              </button>
            </div>
            <table class="data-table">
              <thead>
                <tr>
                  <th>Fecha/Hora</th>
                  <th>Operación</th>
                  <th>Tipo de Datos</th>
                  <th>Usuario</th>
                  <th style="text-align: center;">Registros</th>
                  <th style="text-align: center;">Estado</th>
                  <th style="text-align: center;">Archivo</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>15/08/2024 14:30</td>
                  <td>Importación</td>
                  <td>Insumos y Materiales</td>
                  <td>Jorge Martinez</td>
                  <td style="text-align: center; font-weight: 500;">247</td>
                  <td style="text-align: center;">
                    <span class="status-chip status-optimal">EXITOSO</span>
                  </td>
                  <td style="text-align: center;">
                    <button class="mdc-button mdc-button--outlined">
                      <span class="mdc-button__label">Descargar Log</span>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>14/08/2024 09:15</td>
                  <td>Exportación</td>
                  <td>Movimientos</td>
                  <td>Admin Sistema</td>
                  <td style="text-align: center; font-weight: 500;">1.847</td>
                  <td style="text-align: center;">
                    <span class="status-chip status-optimal">EXITOSO</span>
                  </td>
                  <td style="text-align: center;">
                    <button class="mdc-button mdc-button--outlined">
                      <span class="mdc-button__label">Descargar</span>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>12/08/2024 16:45</td>
                  <td>Importación</td>
                  <td>Proveedores</td>
                  <td>Adriana Aguirre</td>
                  <td style="text-align: center; font-weight: 500;">15</td>
                  <td style="text-align: center;">
                    <span class="status-chip status-critical">ERROR</span>
                  </td>
                  <td style="text-align: center;">
                    <button class="mdc-button mdc-button--outlined">
                      <span class="mdc-button__label">Ver Error</span>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      
      <!-- Inventario Tab -->
      <div id="inventario-tab" class="tab-content">
        <div class="inventory-table">
          <div class="table-header">
            <h2 class="table-title">Gestión Completa de Inventario</h2>
            <button class="mdc-button mdc-button--outlined" style="color: white; border-color: white;">
              <span class="material-icons mdc-button__icon">add</span>
              <span class="mdc-button__label">Nuevo Insumo</span>
            </button>
          </div>
          <div class="filters">
            <div class="mdc-text-field mdc-text-field--outlined">
              <input type="text" class="mdc-text-field__input" placeholder="Buscar por código o descripción...">
              <div class="mdc-notched-outline">
                <div class="mdc-notched-outline__leading"></div>
                <div class="mdc-notched-outline__notch">
                  <label class="mdc-floating-label">Buscar insumo</label>
                </div>
                <div class="mdc-notched-outline__trailing"></div>
              </div>
            </div>
            <div class="mdc-select mdc-select--outlined">
              <div class="mdc-select__anchor">
                <span class="mdc-notched-outline">
                  <span class="mdc-notched-outline__leading"></span>
                  <span class="mdc-notched-outline__notch">
                    <span class="mdc-floating-label">Estado</span>
                  </span>
                  <span class="mdc-notched-outline__trailing"></span>
                </span>
                <span class="mdc-select__selected-text-container">
                  <span class="mdc-select__selected-text">Todos los estados</span>
                </span>
                <span class="mdc-select__dropdown-icon">
                  <span class="material-icons">arrow_drop_down</span>
                </span>
              </div>
              <div class="mdc-select__menu mdc-menu mdc-menu-surface">
                <ul class="mdc-list" role="listbox">
                  <li class="mdc-list-item" data-value="optimo" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">Todos los estados</span>
                  </li>
                  <li class="mdc-list-item" data-value="optimo" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">Óptimo</span>
                  </li>
                  <li class="mdc-list-item" data-value="bajo" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">Bajo</span>
                  </li>
                  <li class="mdc-list-item" data-value="critico" role="option">
                    <span class="mdc-list-item__ripple"></span>
                    <span class="mdc-list-item__text">Crítico</span>
                  </li>
                </ul>
              </div>
            </div>
            <button class="mdc-button mdc-button--raised">
              <span class="material-icons mdc-button__icon">search</span>
              <span class="mdc-button__label">Buscar</span>
            </button>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>Código</th>
                <th>Insumo</th>
                <th>Categoría</th>
                <th>Ubicación</th>
                <th style="text-align: center;">Stock</th>
                <th style="text-align: center;">Valor Unit.</th>
                <th style="text-align: center;">Estado</th>
                <th style="text-align: center;">Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>TIN-001</code></td>
                <td>Tinta Offset CMYK - Cyan</td>
                <td>Tintas</td>
                <td>A1-B2-P3</td>
                <td style="text-align: center; font-weight: 500;">45 kg</td>
                <td style="text-align: center;">$45,50</td>
                <td style="text-align: center;"><span class="status-chip status-optimal">ÓPTIMO</span></td>
                <td style="text-align: center;">
                  <button class="mdc-button mdc-button--outlined" style="margin-right: 4px;">
                    <span class="mdc-button__label">Editar</span>
                  </button>
                  <button class="mdc-button mdc-button--outlined detalle-btn" data-id="TIN-001">
                    <span class="mdc-button__label">Detalle</span>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- Movimientos Tab -->
      <div id="movimientos-tab" class="tab-content">
        <div class="inventory-table">
          <div class="table-header">
            <h2 class="table-title">Historial de Movimientos</h2>
            <button class="mdc-button mdc-button--outlined" style="color: white; border-color: white;">
              <span class="material-icons mdc-button__icon">download</span>
              <span class="mdc-button__label">Exportar</span>
            </button>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>Fecha</th>
                <th>Tipo</th>
                <th>Insumo</th>
                <th>Cantidad</th>
                <th>Usuario</th>
                <th>Motivo</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>15/08/2024 14:30</td>
                <td><span class="status-chip status-critical">SALIDA</span></td>
                <td>Tinta Offset CMYK - Cyan</td>
                <td>-5 kg</td>
                <td>Carlos Rodriguez</td>
                <td>Orden de Trabajo OT-2024-1205</td>
              </tr>
              <tr>
                <td>14/08/2024 09:15</td>
                <td><span class="status-chip status-optimal">ENTRADA</span></td>
                <td>Tinta Offset CMYK - Cyan</td>
                <td>+25 kg</td>
                <td>Jorge Martinez</td>
                <td>Compra OC-2024-0892</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- Órdenes de Trabajo Tab -->
      <div id="ordenes-tab" class="tab-content">
        <div class="inventory-table">
          <div class="table-header">
            <h2 class="table-title">Gestión de Órdenes de Trabajo</h2>
            <button class="mdc-button mdc-button--outlined" style="color: white; border-color: white;">
              <span class="material-icons mdc-button__icon">add</span>
              <span class="mdc-button__label">Nueva Orden</span>
            </button>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>Número</th>
                <th>Cliente</th>
                <th>Producto</th>
                <th>Estado</th>
                <th>Fecha Inicio</th>
                <th>Responsable</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>OT-2024-1205</code></td>
                <td>Editorial Planeta</td>
                <td>Catálogo 48 pág.</td>
                <td><span class="status-chip status-low">EN PROCESO</span></td>
                <td>10/08/2024</td>
                <td>Carlos Rodriguez</td>
                <td>
                  <button class="mdc-button mdc-button--outlined orden-detalle-btn" data-orden="OT-2024-1205">
                    <span class="mdc-button__label">Detalle</span>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- Proveedores Tab -->
      <div id="proveedores-tab" class="tab-content">
        <div class="inventory-table">
          <div class="table-header">
            <h2 class="table-title">Gestión de Proveedores</h2>
            <button class="mdc-button mdc-button--outlined" style="color: white; border-color: white;">
              <span class="material-icons mdc-button__icon">add</span>
              <span class="mdc-button__label">Nuevo Proveedor</span>
            </button>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>Razón Social</th>
                <th>CUIT</th>
                <th>Contacto</th>
                <th>Teléfono</th>
                <th>Categorías</th>
                <th>Estado</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>TintaMax SA</td>
                <td>30-12345678-9</td>
                <td>Juan Pérez</td>
                <td>(011) 4567-8900</td>
                <td>Tintas, Químicos</td>
                <td><span class="status-chip status-optimal">ACTIVO</span></td>
                <td>
                  <button class="mdc-button mdc-button--outlined">
                    <span class="mdc-button__label">Editar</span>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- Reportes Tab -->
      <div id="reportes-tab" class="tab-content">
        <div class="inventory-table">
          <div class="table-header">
            <h2 class="table-title">Análitica e Informes</h2>
            <button class="mdc-button mdc-button--outlined" style="color: white; border-color: white;">
              <span class="material-icons mdc-button__icon">download</span>
              <span class="mdc-button__label">Exportar Datos</span>
            </button>
          </div>
          
          <div style="padding: 24px;">
            <!-- Gráficos en grid -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
              <!-- Gráfico de Stock por Categoría -->
              <div style="background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <h3 style="margin: 0 0 16px 0; color: var(--md-primary-color); font-size: 16px;">Stock por Categoría</h3>
                <div style="height: 300px; position: relative;">
                  <canvas id="stockChart"></canvas>
                </div>
              </div>
              
              <!-- Gráfico de Movimientos del Mes -->
              <div style="background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <h3 style="margin: 0 0 16px 0; color: var(--md-primary-color); font-size: 16px;">Movimientos del Mes</h3>
                <div style="height: 250px; position: relative;">
                  <canvas id="movimientosChart"></canvas>
                </div>
              </div>
            </div>
            
            <!-- Gráfico de Insumos Críticos -->
            <div style="background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
              <h3 style="margin: 0 0 16px 0; color: var(--md-primary-color); font-size: 16px;">Estado de Insumos</h3>
              <div style="height: 250px; position: relative;">
                <canvas id="estadoChart"></canvas>
              </div>
            </div>
            
            <!-- Alertas y Resumen -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-top: 24px;">
              <div style="background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <h3 style="margin: 0 0 16px 0; color: var(--md-error-color); font-size: 16px;">
                  <span class="material-icons" style="vertical-align: middle; margin-right: 8px;">warning</span>
                  Alertas Activas
                </h3>
                <div style="display: flex; flex-direction: column; gap: 8px;">
                  <div style="padding: 12px; background: rgba(244, 67, 54, 0.1); border-radius: 6px; border-left: 4px solid #f44336;">
                    <div style="font-weight: 500; color: #f44336; font-size: 14px;">Stock Crítico</div>
                    <div style="font-size: 13px; color: rgba(0,0,0,0.7);">8 insumos requieren reposición inmediata</div>
                  </div>
                  <div style="padding: 12px; background: rgba(255, 193, 7, 0.1); border-radius: 6px; border-left: 4px solid #ffc107;">
                    <div style="font-weight: 500; color: #ffc107; font-size: 14px;">Stock Bajo</div>
                    <div style="font-size: 13px; color: rgba(0,0,0,0.7);">23 insumos por debajo del stock mínimo</div>
                  </div>
                </div>
              </div>
              
              <div style="background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <h3 style="margin: 0 0 16px 0; color: var(--md-primary-color); font-size: 16px;">
                  <span class="material-icons" style="vertical-align: middle; margin-right: 8px;">assessment</span>
                  KPIs del Mes
                </h3>
                <div style="display: grid; gap: 12px;">
                  <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid rgba(0,0,0,0.08);">
                    <span style="color: rgba(0,0,0,0.7); font-size: 14px;">Rotación de Stock</span>
                    <span style="font-weight: 500; color: #4caf50;">+12.3%</span>
                  </div>
                  <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid rgba(0,0,0,0.08);">
                    <span style="color: rgba(0,0,0,0.7); font-size: 14px;">Eficiencia de Pedidos</span>
                    <span style="font-weight: 500; color: #4caf50;">94.7%</span>
                  </div>
                  <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid rgba(0,0,0,0.08);">
                    <span style="color: rgba(0,0,0,0.7); font-size: 14px;">Tiempo Promedio Reposición</span>
                    <span style="font-weight: 500;">3.2 días</span>
                  </div>
                  <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0;">
                    <span style="color: rgba(0,0,0,0.7); font-size: 14px;">Costo Promedio por Orden</span>
                    <span style="font-weight: 500;">$2.847</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Administración Tab -->
      <div id="administracion-tab" class="tab-content">
        <div class="inventory-table">
          <div class="table-header">
            <h2 class="table-title">Administración del Sistema</h2>
            <button class="mdc-button mdc-button--outlined" style="color: white; border-color: white;">
              <span class="material-icons mdc-button__icon">save</span>
              <span class="mdc-button__label">Guardar Cambios</span>
            </button>
          </div>
          
          <div style="padding: 24px;">
            <!-- Configuración de Stock Mínimo -->
            <div style="background: white; border-radius: 8px; margin-bottom: 24px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
              <div style="background: var(--md-primary-color); color: white; padding: 16px 20px; border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 12px;">
                <span class="material-icons">inventory</span>
                <h3 style="margin: 0; font-size: 16px;">Parámetros de Stock Mínimo</h3>
              </div>
              
              <div style="padding: 0;">
                <table class="data-table">
                  <thead>
                    <tr>
                      <th>Código</th>
                      <th>Insumo</th>
                      <th>Categoría</th>
                      <th style="text-align: center;">Stock Actual</th>
                      <th style="text-align: center;">Stock Mínimo</th>
                      <th style="text-align: center;">Nuevo Mínimo</th>
                      <th style="text-align: center;">Estado</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><code>TIN-001</code></td>
                      <td>Tinta Offset CMYK - Cyan</td>
                      <td>Tintas</td>
                      <td style="text-align: center;">45 kg</td>
                      <td style="text-align: center;">15 kg</td>
                      <td style="text-align: center;">
                        <input type="number" value="15" style="width: 60px; padding: 4px; border: 1px solid #ddd; border-radius: 4px; text-align: center;">
                      </td>
                      <td style="text-align: center;">
                        <span class="status-chip status-optimal">ÓPTIMO</span>
                      </td>
                    </tr>
                    <tr>
                      <td><code>PLA-085</code></td>
                      <td>Plancha Offset 70x100cm</td>
                      <td>Planchas</td>
                      <td style="text-align: center;">12 und</td>
                      <td style="text-align: center;">25 und</td>
                      <td style="text-align: center;">
                        <input type="number" value="20" style="width: 60px; padding: 4px; border: 1px solid #ddd; border-radius: 4px; text-align: center;">
                      </td>
                      <td style="text-align: center;">
                        <span class="status-chip status-critical">CRÍTICO</span>
                      </td>
                    </tr>
                    <tr>
                      <td><code>PAP-156</code></td>
                      <td>Papel Couché 150gr 70x100</td>
                      <td>Papel</td>
                      <td style="text-align: center;">850 kg</td>
                      <td style="text-align: center;">200 kg</td>
                      <td style="text-align: center;">
                        <input type="number" value="200" style="width: 60px; padding: 4px; border: 1px solid #ddd; border-radius: 4px; text-align: center;">
                      </td>
                      <td style="text-align: center;">
                        <span class="status-chip status-optimal">ÓPTIMO</span>
                      </td>
                    </tr>
                    <tr>
                      <td><code>QUI-044</code></td>
                      <td>Solución Limpieza IPA</td>
                      <td>Químicos</td>
                      <td style="text-align: center;">28 L</td>
                      <td style="text-align: center;">25 L</td>
                      <td style="text-align: center;">
                        <input type="number" value="30" style="width: 60px; padding: 4px; border: 1px solid #ddd; border-radius: 4px; text-align: center;">
                      </td>
                      <td style="text-align: center;">
                        <span class="status-chip status-low">BAJO</span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            
            <!-- Auditoría de Cambios -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
              <!-- Configuración General -->
              <div style="background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="background: var(--md-secondary-color); color: white; padding: 16px 20px; border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 12px;">
                  <span class="material-icons">settings</span>
                  <h3 style="margin: 0; font-size: 16px;">Configuración General</h3>
                </div>
                
                <div style="padding: 20px;">
                  <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 500; color: rgba(0,0,0,0.7); font-size: 14px;">Nombre de la Planta</label>
                    <input type="text" value="DIPIDE - Planta Central" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;">
                  </div>
                  
                  <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 500; color: rgba(0,0,0,0.7); font-size: 14px;">Días para Alerta de Vencimiento</label>
                    <input type="number" value="30" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;">
                  </div>
                  
                  <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 500; color: rgba(0,0,0,0.7); font-size: 14px;">Frecuencia de Auditoría Automática</label>
                    <select style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;">
                      <option>Semanal</option>
                      <option selected>Mensual</option>
                      <option>Trimestral</option>
                    </select>
                  </div>
                  
                  <div>
                    <label style="display: flex; align-items: center; gap: 8px; font-size: 14px; cursor: pointer;">
                      <input type="checkbox" checked style="margin: 0;">
                      <span>Notificaciones por email habilitadas</span>
                    </label>
                  </div>
                </div>
              </div>
              
              <!-- Registro de Auditoría -->
              <div style="background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="background: var(--md-warning-color); color: white; padding: 16px 20px; border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 12px;">
                  <span class="material-icons">history</span>
                  <h3 style="margin: 0; font-size: 16px;">Registro de Auditoría</h3>
                </div>
                
                <div style="padding: 20px;">
                  <div style="display: flex; flex-direction: column; gap: 12px; max-height: 300px; overflow-y: auto;">
                    <div style="padding: 12px; background: rgba(0,0,0,0.02); border-radius: 6px; border-left: 4px solid var(--md-primary-color);">
                      <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 4px;">
                        <span style="font-weight: 500; font-size: 14px;">Cambio de stock mínimo</span>
                        <span style="font-size: 12px; color: rgba(0,0,0,0.6);">Hoy 14:30</span>
                      </div>
                      <div style="font-size: 13px; color: rgba(0,0,0,0.7); margin-bottom: 4px;">TIN-001: 15kg → 20kg</div>
                      <div style="font-size: 12px; color: rgba(0,0,0,0.5);">Usuario: Admin Producción</div>
                    </div>
                    
                    <div style="padding: 12px; background: rgba(0,0,0,0.02); border-radius: 6px; border-left: 4px solid var(--md-secondary-color);">
                      <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 4px;">
                        <span style="font-weight: 500; font-size: 14px;">Configuración general</span>
                        <span style="font-size: 12px; color: rgba(0,0,0,0.6);">Ayer 09:15</span>
                      </div>
                      <div style="font-size: 13px; color: rgba(0,0,0,0.7); margin-bottom: 4px;">Habilitadas notificaciones email</div>
                      <div style="font-size: 12px; color: rgba(0,0,0,0.5);">Usuario: J. Martinez</div>
                    </div>
                    
                    <div style="padding: 12px; background: rgba(0,0,0,0.02); border-radius: 6px; border-left: 4px solid var(--md-warning-color);">
                      <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 4px;">
                        <span style="font-weight: 500; font-size: 14px;">Auditoría programada</span>
                        <span style="font-size: 12px; color: rgba(0,0,0,0.6);">12/08 16:45</span>
                      </div>
                      <div style="font-size: 13px; color: rgba(0,0,0,0.7); margin-bottom: 4px;">Frecuencia cambiada a mensual</div>
                      <div style="font-size: 12px; color: rgba(0,0,0,0.5);">Usuario: Admin Sistema</div>
                    </div>
                    
                    <div style="padding: 12px; background: rgba(0,0,0,0.02); border-radius: 6px; border-left: 4px solid var(--md-primary-color);">
                      <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 4px;">
                        <span style="font-weight: 500; font-size: 14px;">Stock mínimo actualizado</span>
                        <span style="font-size: 12px; color: rgba(0,0,0,0.6);">10/08 11:20</span>
                      </div>
                      <div style="font-size: 13px; color: rgba(0,0,0,0.7); margin-bottom: 4px;">PLA-085: 30und → 25und</div>
                      <div style="font-size: 12px; color: rgba(0,0,0,0.5);">Usuario: C. Rodriguez</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
    </div>

    <!-- Modal de Detalles Insumo -->
    <div class="modal-overlay" id="modalDetalle">
      <div class="modal-content">
        <div class="modal-header">
          <h3 style="margin: 0;">Detalle del Insumo - <span id="modalTitle">TIN-001</span></h3>
          <button class="mdc-button" id="cerrarModal" style="color: white;">
            <span class="material-icons">close</span>
          </button>
        </div>
        <div class="modal-body">
          <div id="modalContent">
            <!-- Contenido dinámico se carga aquí -->
          </div>
        </div>
      </div>
    </div>

    <!-- Modal de Detalles Orden de Trabajo -->
    <div class="modal-overlay" id="modalOrden">
      <div class="modal-content">
        <div class="modal-header">
          <h3 style="margin: 0;">Detalle de Orden - <span id="modalOrdenTitle">OT-2024-1205</span></h3>
          <button class="mdc-button" id="cerrarModalOrden" style="color: white;">
            <span class="material-icons">close</span>
          </button>
        </div>
        <div class="modal-body">
          <div id="modalOrdenContent">
            <!-- Contenido dinámico se carga aquí -->
          </div>
        </div>
      </div>
    </div>

    <script>
      // Inicializar componentes Material Design
      mdc.autoInit();
      
      // Inicializar manualmente los componentes Select
      const selects = document.querySelectorAll('.mdc-select');
      selects.forEach(selectEl => {
        try {
          const select = new mdc.select.MDCSelect(selectEl);
          
          // Agregar event listener para manejar cambios
          select.listen('MDCSelect:change', () => {
            console.log(`Selected option at index ${select.selectedIndex} with value "${select.value}"`);
          });
        } catch (e) {
          console.warn('Error inicializando select:', e);
        }
      });
      
      // Inicializar manualmente los componentes TextField
      const textFields = document.querySelectorAll('.mdc-text-field');
      textFields.forEach(textFieldEl => {
        try {
          new mdc.textField.MDCTextField(textFieldEl);
        } catch (e) {
          console.warn('Error inicializando text field:', e);
        }
      });
      
      // Sistema de pestañas
      function switchTab(tabName) {
        // Ocultar todas las pestañas
        document.querySelectorAll('.tab-content').forEach(tab => {
          tab.classList.remove('active');
        });
        
        // Remover clase active de todas las pestañas de navegación
        document.querySelectorAll('.nav-tab').forEach(tab => {
          tab.classList.remove('active');
        });
        
        // Mostrar la pestaña seleccionada
        const targetTab = document.getElementById(tabName + '-tab');
        if (targetTab) {
          targetTab.classList.add('active');
        }
        
        // Activar la pestaña de navegación correspondiente
        const navTab = document.querySelector(`[data-tab="${tabName}"]`);
        if (navTab) {
          navTab.classList.add('active');
        }
      }
      
      // Event listeners para las pestañas
      document.querySelectorAll('.nav-tab').forEach((tab, index) => {
        const tabNames = ['dashboard', 'expedientes', 'ordenes', 'inventario', 'movimientos', 'import-export', 'reportes', 'administracion'];
        tab.setAttribute('data-tab', tabNames[index]);
        
        tab.addEventListener('click', function() {
          const tabName = this.getAttribute('data-tab');
          switchTab(tabName);
        });
      });
      
      // Asegurar que Dashboard esté activo al cargar la página
      document.addEventListener('DOMContentLoaded', function() {
        // Asegurar que solo Dashboard esté visible al inicio
        switchTab('dashboard');
        
        // Inicializar gráficos cuando se muestre la pestaña de reportes
        initializeCharts();
      });
      
      // Función para inicializar gráficos
      function initializeCharts() {
        // Gráfico de Stock por Categoría (Doughnut)
        const stockCtx = document.getElementById('stockChart');
        if (stockCtx) {
          new Chart(stockCtx, {
            type: 'doughnut',
            data: {
              labels: ['Tintas', 'Planchas', 'Papel', 'Químicos', 'Otros'],
              datasets: [{
                data: [35, 20, 25, 15, 5],
                backgroundColor: [
                  '#1565c0',
                  '#388e3c', 
                  '#f57c00',
                  '#d32f2f',
                  '#7b1fa2'
                ],
                borderWidth: 2,
                borderColor: '#fff'
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              animation: false,
              plugins: {
                legend: {
                  position: 'bottom',
                  labels: {
                    padding: 15,
                    usePointStyle: true
                  }
                }
              }
            }
          });
        }
        
        // Gráfico de Movimientos del Mes (Horizontal Bar)
        const movCtx = document.getElementById('movimientosChart');
        if (movCtx) {
          new Chart(movCtx, {
            type: 'bar',
            data: {
              labels: ['Entradas', 'Salidas', 'Transferencias', 'Ajustes'],
              datasets: [{
                label: 'Cantidad',
                data: [45, 67, 23, 12],
                backgroundColor: [
                  'rgba(76, 175, 80, 0.8)',
                  'rgba(244, 67, 54, 0.8)',
                  'rgba(33, 150, 243, 0.8)',
                  'rgba(255, 152, 0, 0.8)'
                ],
                borderColor: [
                  '#4caf50',
                  '#f44336',
                  '#2196f3',
                  '#ff9800'
                ],
                borderWidth: 2,
                borderRadius: 4
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              animation: false,
              plugins: {
                legend: {
                  display: false
                }
              },
              scales: {
                y: {
                  beginAtZero: true,
                  grid: {
                    display: false
                  }
                },
                x: {
                  grid: {
                    color: 'rgba(0,0,0,0.1)'
                  },
                  ticks: {
                    stepSize: 10
                  }
                }
              }
            }
          });
        }
        
        // Gráfico de Estado de Insumos (Polar Area)
        const estadoCtx = document.getElementById('estadoChart');
        if (estadoCtx) {
          new Chart(estadoCtx, {
            type: 'polarArea',
            data: {
              labels: ['Stock Óptimo', 'Stock Bajo', 'Stock Crítico', 'Sin Stock'],
              datasets: [{
                data: [1816, 23, 8, 0],
                backgroundColor: [
                  'rgba(76, 175, 80, 0.8)',
                  'rgba(255, 193, 7, 0.8)',
                  'rgba(244, 67, 54, 0.8)',
                  'rgba(96, 125, 139, 0.8)'
                ],
                borderColor: [
                  '#4caf50',
                  '#ffc107',
                  '#f44336',
                  '#607d8b'
                ],
                borderWidth: 2
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              animation: false,
              plugins: {
                legend: {
                  position: 'bottom',
                  labels: {
                    padding: 15,
                    usePointStyle: true
                  }
                }
              },
              scales: {
                r: {
                  beginAtZero: true,
                  grid: {
                    color: 'rgba(0,0,0,0.1)'
                  },
                  ticks: {
                    stepSize: 500
                  }
                }
              }
            }
          });
        }
      }

      // Datos de ejemplo para las órdenes de trabajo
      const ordenesData = {
        'OT-2024-1205': {
          numero: 'OT-2024-1205',
          cliente: 'Editorial Planeta',
          producto: 'Catálogo 48 pág.',
          estado: 'EN PROCESO',
          fechaInicio: '10/08/2024',
          fechaEstimada: '20/08/2024',
          responsable: 'Carlos Rodriguez',
          descripcion: 'Impresión de catálogo corporativo con acabado mate, formato A4, papel couché 150gr.',
          insumos: [
            { codigo: 'TIN-001', nombre: 'Tinta Cyan', cantidad: '15 kg', estado: 'Asignado' },
            { codigo: 'TIN-002', nombre: 'Tinta Magenta', cantidad: '12 kg', estado: 'Asignado' },
            { codigo: 'PAP-156', nombre: 'Papel Couché 150gr', cantidad: '200 kg', estado: 'Asignado' },
            { codigo: 'PLA-085', nombre: 'Planchas Offset', cantidad: '8 und', estado: 'En uso' }
          ],
          progreso: [
            { fecha: '10/08/2024 09:00', actividad: 'Orden creada', usuario: 'Admin Sistema', estado: 'Completado' },
            { fecha: '10/08/2024 10:30', actividad: 'Insumos asignados', usuario: 'Jorge Martinez', estado: 'Completado' },
            { fecha: '12/08/2024 14:15', actividad: 'Preparación de planchas', usuario: 'Carlos Rodriguez', estado: 'Completado' },
            { fecha: '15/08/2024 08:00', actividad: 'Inicio de impresión', usuario: 'Carlos Rodriguez', estado: 'En proceso' }
          ]
        }
      };
      
      // Datos de ejemplo para los movimientos
      const movimientosData = {
        'TIN-001': {
          nombre: 'Tinta Offset CMYK - Cyan',
          movimientos: [
            {
              tipo: 'SALIDA - Orden de Trabajo',
              fecha: '2024-08-15 14:30',
              cantidad: '-5 kg',
              orden: 'OT-2024-1205',
              usuario: 'Carlos Rodriguez',
              motivo: 'Impresión Editorial Planeta - Catálogo',
              stockResultante: '45 kg'
            },
            {
              tipo: 'ENTRADA - Compra',
              fecha: '2024-08-14 09:15',
              cantidad: '+25 kg',
              orden: 'OC-2024-0892',
              usuario: 'Jorge Martinez',
              motivo: 'Reposición stock - Proveedor TintaMax',
              stockResultante: '50 kg'
            },
            {
              tipo: 'SALIDA - Orden de Trabajo',
              fecha: '2024-08-13 16:45',
              cantidad: '-8 kg',
              orden: 'OT-2024-1204',
              usuario: 'Ana Gutierrez',
              motivo: 'Impresión Banco Nación - Formularios',
              stockResultante: '25 kg'
            }
          ]
        },
        'PLA-085': {
          nombre: 'Plancha Offset 70x100cm',
          movimientos: [
            {
              tipo: 'SALIDA - Orden de Trabajo',
              fecha: '2024-08-15 11:20',
              cantidad: '-8 und',
              orden: 'OT-2024-1205',
              usuario: 'Carlos Rodriguez',
              motivo: 'Preparación planchas Editorial Planeta',
              stockResultante: '12 und'
            },
            {
              tipo: 'SALIDA - Orden de Trabajo',
              fecha: '2024-08-14 15:30',
              cantidad: '-5 und',
              orden: 'OT-2024-1204',
              usuario: 'Ana Gutierrez',
              motivo: 'Planchas Banco Nación - Formularios',
              stockResultante: '20 und'
            },
            {
              tipo: 'ENTRADA - Compra',
              fecha: '2024-08-10 10:00',
              cantidad: '+50 und',
              orden: 'OC-2024-0889',
              usuario: 'Jorge Martinez',
              motivo: 'Reposición mensual - Proveedor OffsetPro',
              stockResultante: '25 und'
            }
          ]
        },
        'PAP-156': {
          nombre: 'Papel Couché 150gr 70x100',
          movimientos: [
            {
              tipo: 'SALIDA - Orden de Trabajo',
              fecha: '2024-08-15 13:00',
              cantidad: '-150 kg',
              orden: 'OT-2024-1205',
              usuario: 'Luis Fernandez',
              motivo: 'Impresión Editorial Planeta - Catálogo 48 pág.',
              stockResultante: '850 kg'
            },
            {
              tipo: 'ENTRADA - Compra',
              fecha: '2024-08-12 08:30',
              cantidad: '+500 kg',
              orden: 'OC-2024-0891',
              usuario: 'Jorge Martinez',
              motivo: 'Reposición stock - Proveedor PapelMax SA',
              stockResultante: '1000 kg'
            },
            {
              tipo: 'SALIDA - Orden de Trabajo',
              fecha: '2024-08-11 14:15',
              cantidad: '-200 kg',
              orden: 'OT-2024-1203',
              usuario: 'Ana Gutierrez',
              motivo: 'Manual escolar Ministerio Educación',
              stockResultante: '500 kg'
            }
          ]
        },
        'QUI-044': {
          nombre: 'Solución Limpieza IPA',
          movimientos: [
            {
              tipo: 'SALIDA - Mantenimiento',
              fecha: '2024-08-15 12:45',
              cantidad: '-5 L',
              orden: 'MAN-2024-0156',
              usuario: 'Pedro Sanchez',
              motivo: 'Limpieza semanal máquinas offset',
              stockResultante: '28 L'
            },
            {
              tipo: 'SALIDA - Orden de Trabajo',
              fecha: '2024-08-14 10:30',
              cantidad: '-7 L',
              orden: 'OT-2024-1204',
              usuario: 'Carlos Rodriguez',
              motivo: 'Limpieza durante cambio de trabajo',
              stockResultante: '33 L'
            },
            {
              tipo: 'ENTRADA - Compra',
              fecha: '2024-08-08 09:00',
              cantidad: '+20 L',
              orden: 'OC-2024-0888',
              usuario: 'Jorge Martinez',
              motivo: 'Reposición químicos - Proveedor ChemOffset',
              stockResultante: '40 L'
            }
          ]
        },
        'TIN-002': {
          nombre: 'Tinta Offset CMYK - Magenta',
          movimientos: [
            {
              tipo: 'SALIDA - Orden de Trabajo',
              fecha: '2024-08-15 14:35',
              cantidad: '-4 kg',
              orden: 'OT-2024-1205',
              usuario: 'Carlos Rodriguez',
              motivo: 'Impresión Editorial Planeta - Catálogo',
              stockResultante: '38 kg'
            },
            {
              tipo: 'ENTRADA - Compra',
              fecha: '2024-08-14 09:15',
              cantidad: '+25 kg',
              orden: 'OC-2024-0892',
              usuario: 'Jorge Martinez',
              motivo: 'Reposición stock - Proveedor TintaMax',
              stockResultante: '42 kg'
            },
            {
              tipo: 'SALIDA - Orden de Trabajo',
              fecha: '2024-08-13 16:50',
              cantidad: '-8 kg',
              orden: 'OT-2024-1204',
              usuario: 'Ana Gutierrez',
              motivo: 'Impresión Banco Nación - Formularios',
              stockResultante: '17 kg'
            }
          ]
        }
      };

      // Event listeners para botones de detalle insumos
      document.querySelectorAll('.detalle-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const id = this.getAttribute('data-id');
          mostrarDetalle(id);
        });
      });
      
      // Event listeners para botones de detalle órdenes
      document.querySelectorAll('.orden-detalle-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const ordenId = this.getAttribute('data-orden');
          mostrarDetalleOrden(ordenId);
        });
      });

      // Función para mostrar modal de detalle
      function mostrarDetalle(id) {
        const data = movimientosData[id];
        if (!data) return;

        document.getElementById('modalTitle').textContent = id;
        
        let htmlContent = `
          <div style="margin-bottom: 24px;">
            <h4 style="margin: 0 0 8px 0; color: var(--md-primary-color);">${data.nombre}</h4>
            <p style="margin: 0; color: rgba(0,0,0,0.6);">Código: ${id}</p>
          </div>
          
          <h5 style="margin: 24px 0 16px 0; color: rgba(0,0,0,0.87);">Historial de Movimientos</h5>
        `;

        data.movimientos.forEach(mov => {
          let borderColor = 'var(--md-primary-color)';
          if (mov.tipo.includes('SALIDA')) borderColor = '#f44336';
          if (mov.tipo.includes('ENTRADA')) borderColor = '#4caf50';

          htmlContent += `
            <div class="movement-entry" style="border-left-color: ${borderColor};">
              <div class="movement-header">
                <div>
                  <div class="movement-type">${mov.tipo}</div>
                  <div class="movement-date">${mov.fecha}</div>
                </div>
                <div style="font-weight: 600; font-size: 18px; color: ${borderColor};">
                  ${mov.cantidad}
                </div>
              </div>
              <div class="movement-details">
                <div class="detail-item">
                  <span class="detail-label">Usuario:</span>
                  <span class="detail-value">${mov.usuario}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Orden:</span>
                  <span class="detail-value">${mov.orden}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Stock resultante:</span>
                  <span class="detail-value" style="color: ${borderColor}; font-weight: 600;">${mov.stockResultante}</span>
                </div>
              </div>
              <div class="movement-motivo">
                <div class="motivo-label">Motivo</div>
                <div class="motivo-text">${mov.motivo}</div>
              </div>
            </div>
          `;
        });

        document.getElementById('modalContent').innerHTML = htmlContent;
        document.getElementById('modalDetalle').style.display = 'flex';
      }

      // Cerrar modal
      document.getElementById('cerrarModal').addEventListener('click', function() {
        document.getElementById('modalDetalle').style.display = 'none';
      });

      // Cerrar modal al hacer click fuera
      document.getElementById('modalDetalle').addEventListener('click', function(e) {
        if (e.target === this) {
          this.style.display = 'none';
        }
      });
      
      // Función para mostrar modal de detalle de orden
      function mostrarDetalleOrden(ordenId) {
        const data = ordenesData[ordenId];
        if (!data) return;

        document.getElementById('modalOrdenTitle').textContent = ordenId;
        
        let htmlContent = `
          <div style="margin-bottom: 24px;">
            <h4 style="margin: 0 0 8px 0; color: var(--md-primary-color);">${data.cliente}</h4>
            <p style="margin: 0; color: rgba(0,0,0,0.6); font-size: 14px;">${data.producto}</p>
          </div>
          
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px;">
            <div style="background: rgba(0,0,0,0.02); padding: 16px; border-radius: 8px;">
              <div style="font-weight: 500; color: rgba(0,0,0,0.6); font-size: 12px; text-transform: uppercase;">Estado</div>
              <div style="font-size: 16px; font-weight: 500; color: var(--md-warning-color);">${data.estado}</div>
            </div>
            <div style="background: rgba(0,0,0,0.02); padding: 16px; border-radius: 8px;">
              <div style="font-weight: 500; color: rgba(0,0,0,0.6); font-size: 12px; text-transform: uppercase;">Responsable</div>
              <div style="font-size: 16px; font-weight: 500;">${data.responsable}</div>
            </div>
            <div style="background: rgba(0,0,0,0.02); padding: 16px; border-radius: 8px;">
              <div style="font-weight: 500; color: rgba(0,0,0,0.6); font-size: 12px; text-transform: uppercase;">Fecha Estimada</div>
              <div style="font-size: 16px; font-weight: 500;">${data.fechaEstimada}</div>
            </div>
          </div>
          
          <div style="margin-bottom: 24px;">
            <h5 style="margin: 0 0 12px 0; color: rgba(0,0,0,0.87);">Descripción</h5>
            <p style="margin: 0; color: rgba(0,0,0,0.8); line-height: 1.5;">${data.descripcion}</p>
          </div>
          
          <h5 style="margin: 24px 0 16px 0; color: rgba(0,0,0,0.87);">Insumos Asignados</h5>
          <div style="background: white; border-radius: 8px; overflow: hidden; border: 1px solid rgba(0,0,0,0.12);">
            <table style="width: 100%; border-collapse: collapse;">
              <thead style="background: rgba(0,0,0,0.04);">
                <tr>
                  <th style="padding: 12px; text-align: left; font-size: 14px; font-weight: 500;">Código</th>
                  <th style="padding: 12px; text-align: left; font-size: 14px; font-weight: 500;">Insumo</th>
                  <th style="padding: 12px; text-align: center; font-size: 14px; font-weight: 500;">Cantidad</th>
                  <th style="padding: 12px; text-align: center; font-size: 14px; font-weight: 500;">Estado</th>
                </tr>
              </thead>
              <tbody>
        `;
        
        data.insumos.forEach(insumo => {
          let estadoColor = '#4caf50';
          if (insumo.estado === 'En uso') estadoColor = '#ff9800';
          
          htmlContent += `
            <tr style="border-bottom: 1px solid rgba(0,0,0,0.08);">
              <td style="padding: 12px; font-size: 14px;"><code>${insumo.codigo}</code></td>
              <td style="padding: 12px; font-size: 14px;">${insumo.nombre}</td>
              <td style="padding: 12px; text-align: center; font-size: 14px; font-weight: 500;">${insumo.cantidad}</td>
              <td style="padding: 12px; text-align: center;">
                <span style="background: rgba(${estadoColor === '#4caf50' ? '76, 175, 80' : '255, 152, 0'}, 0.1); color: ${estadoColor}; padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: 500;">${insumo.estado}</span>
              </td>
            </tr>
          `;
        });
        
        htmlContent += `
              </tbody>
            </table>
          </div>
          
          <h5 style="margin: 24px 0 16px 0; color: rgba(0,0,0,0.87);">Progreso de la Orden</h5>
        `;
        
        data.progreso.forEach((item, index) => {
          let iconColor = '#4caf50';
          let bgColor = 'rgba(76, 175, 80, 0.1)';
          if (item.estado === 'En proceso') {
            iconColor = '#ff9800';
            bgColor = 'rgba(255, 152, 0, 0.1)';
          }
          
          htmlContent += `
            <div style="display: flex; gap: 16px; margin-bottom: 16px; align-items: flex-start;">
              <div style="width: 40px; height: 40px; border-radius: 50%; background: ${bgColor}; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                <span class="material-icons" style="font-size: 20px; color: ${iconColor};">${item.estado === 'Completado' ? 'check_circle' : 'schedule'}</span>
              </div>
              <div style="flex: 1;">
                <div style="font-weight: 500; margin-bottom: 4px;">${item.actividad}</div>
                <div style="font-size: 12px; color: rgba(0,0,0,0.6); margin-bottom: 2px;">${item.fecha}</div>
                <div style="font-size: 12px; color: rgba(0,0,0,0.6);">Usuario: ${item.usuario}</div>
              </div>
            </div>
          `;
        });

        document.getElementById('modalOrdenContent').innerHTML = htmlContent;
        document.getElementById('modalOrden').style.display = 'flex';
      }
      
      // Cerrar modal de orden
      document.getElementById('cerrarModalOrden').addEventListener('click', function() {
        document.getElementById('modalOrden').style.display = 'none';
      });
      
      // Cerrar modal de orden al hacer click fuera
      document.getElementById('modalOrden').addEventListener('click', function(e) {
        if (e.target === this) {
          this.style.display = 'none';
        }
      });
    </script>
  </body>
</html>